"use strict";System.register(["./emitter","./list"],function(_export,_context){"use strict";var Emitter,findByProperty,_createClass,Collection;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}return{setters:[function(_emitter){Emitter=_emitter.default},function(_list){findByProperty=_list.findByProperty}],execute:function(){_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Collection=function(_Emitter){_inherits(Collection,_Emitter);function Collection(){var _ref;_classCallCheck(this,Collection);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _this=_possibleConstructorReturn(this,(_ref=Collection.__proto__||Object.getPrototypeOf(Collection)).call.apply(_ref,[this].concat(args)));_this.data=[];return _this}_createClass(Collection,[{key:"remove",value:function remove(index){if(index<0||index>=this.data.length){throw"Index out of range"}this.data.splice(index,1);this.emit("change");return this}},{key:"push",value:function push(row){var result=this.data.push(row);this.emit("change");return result}},{key:"pop",value:function pop(){var row=this.data.pop();this.emit("change");return row}},{key:"unshift",value:function unshift(row){var result=this.data.unshift(row);this.emit("change");return result}},{key:"shift",value:function shift(){var row=this.data.shift();this.emit("change");return row}},{key:"clear",value:function clear(){this.data=[];this.emit("change");return this}},{key:"concat",value:function concat(range){this.data=this.data.concat(range);this.emit("change");return this}},{key:"findBy",value:function findBy(property,value){return this.data.find(findByProperty(property,value))}},{key:"filter",value:function filter(func){return this.data.filter(func)}},{key:"map",value:function map(func){return this.data.map(func)}},{key:"all",value:function all(){return this.data}},{key:"get",value:function get(index){return index>=0&&index<this.data.length?this.data[index]:null}}]);return Collection}(Emitter);_export("default",Collection)}}});